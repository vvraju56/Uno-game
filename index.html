<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO Multiplayer</title>
    <link rel="stylesheet" href="style.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <!-- Login/Lobby Screen -->
    <div id="lobbyScreen" class="screen">
        <div class="lobby-container">
            <h1>UNO Multiplayer</h1>
            <div class="menu-buttons">
                <button id="createRoomBtn" class="btn-primary">Create Room</button>
                <button id="joinRoomBtn" class="btn-secondary">Join Room</button>
            </div>
            
            <div id="nameInput" class="input-group" style="display: none;">
                <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                <div class="action-buttons">
                    <button id="confirmNameBtn" class="btn-primary">Confirm</button>
                    <button id="cancelNameBtn" class="btn-secondary">Cancel</button>
                </div>
            </div>
            
            <div id="joinRoomInput" class="input-group" style="display: none;">
                <input type="text" id="roomCode" placeholder="Enter room code" maxlength="6">
                <div class="action-buttons">
                    <button id="confirmJoinBtn" class="btn-primary">Join</button>
                    <button id="cancelJoinBtn" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Room Screen -->
    <div id="roomScreen" class="screen" style="display: none;">
        <div class="room-container">
            <div class="room-header">
                <h2>Room <span id="roomId"></span></h2>
                <button id="startGameBtn" class="btn-primary" style="display: none;">Start Game</button>
                <button id="leaveRoomBtn" class="btn-secondary">Leave Room</button>
            </div>
            
            <div class="players-list">
                <h3>Players</h3>
                <div id="playersList"></div>
            </div>
            
            <div id="waitingMessage" class="waiting-message">
                Waiting for players to join...
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen" style="display: none;">
        <div class="game-container">
            <!-- Game Info Bar -->
            <div class="game-info">
                <div class="deck-info">
                    <div class="deck-count">Deck: <span id="deckCount">0</span></div>
                    <div class="current-turn">Turn: <span id="currentTurn"></span></div>
                </div>
                <div class="color-indicator">
                    <span>Current Color:</span>
                    <div id="currentColor" class="color-circle"></div>
                </div>
            </div>

            <!-- Opponents Area -->
            <div class="opponents-area">
                <div id="opponents"></div>
                
                <!-- Last Played Cards Display -->
                <div class="last-cards-display">
                    <h3>Last Played Cards</h3>
                    <div id="lastPlayedCards"></div>
                </div>
            </div>

            <!-- Game Board -->
            <div class="game-board">
                <div class="discard-pile">
                    <div id="discardCard" class="card"></div>
                </div>
                <button id="drawCardBtn" class="draw-button">Draw Card</button>
                <button id="unoBtn" class="uno-button" style="display: none;">UNO!</button>
            </div>

            <!-- Player Hand -->
            <div class="player-hand">
                <div id="playerHand" class="hand-cards"></div>
            </div>

            <!-- Color Picker Modal -->
            <div id="colorPicker" class="modal" style="display: none;">
                <div class="modal-content">
                    <h3>Choose a color</h3>
                    <div class="color-options">
                        <button class="color-btn red" data-color="red"></button>
                        <button class="color-btn yellow" data-color="yellow"></button>
                        <button class="color-btn green" data-color="green"></button>
                        <button class="color-btn blue" data-color="blue"></button>
                    </div>
                </div>
            </div>

            <!-- Game Over Modal -->
            <div id="gameOverModal" class="modal" style="display: none;">
                <div class="modal-content">
                    <h2>Game Over!</h2>
                    <p id="winnerMessage"></p>
                    <button id="playAgainBtn" class="btn-primary">Play Again</button>
                </div>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>
        </div>
    </div>

    <script src="client.js"></script>
</body>
</html>